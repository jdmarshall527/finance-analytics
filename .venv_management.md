# Virtual Environment Management with UV

This project uses `uv` for dependency management and virtual environment handling. `uv` is a fast Python package installer and resolver written in Rust.

## Quick Start

### 1. Create Virtual Environment
```bash
# Create a new virtual environment
python -m uv venv

# Activate the virtual environment
.venv\Scripts\activate  # Windows
source .venv/bin/activate  # Linux/Mac
```

### 2. Install Dependencies
```bash
# Install all dependencies from pyproject.toml
python -m uv sync

# Install with development dependencies
python -m uv sync --dev
```

### 3. Add New Dependencies
```bash
# Add a new dependency
python -m uv add package_name

# Add a development dependency
python -m uv add --dev package_name

# Add with specific version
python -m uv add "package_name>=1.0.0"
```

### 4. Update Dependencies
```bash
# Update all dependencies
python -m uv sync --upgrade

# Update specific package
python -m uv add --upgrade package_name
```

### 5. Remove Dependencies
```bash
# Remove a dependency
python -m uv remove package_name
```

## Project Structure

```
finance-analytics/
├── .venv/                    # Virtual environment (created by uv)
├── pyproject.toml           # Project configuration and dependencies
├── requirements.txt         # Legacy requirements file
├── src/                     # Source code
├── scripts/                 # Scripts
└── web_app/                 # Web application
```

## Key Commands

### Development
```bash
# Run portfolio optimizer demo
python scripts/portfolio_optimizer_demo.py

# Start web API server
python web_app/app.py

# Test API endpoints
python scripts/test_api.py
```

### Package Management
```bash
# List installed packages
python -m uv pip list

# Show dependency tree
python -m uv tree

# Export requirements
python -m uv pip freeze > requirements.txt
```

### Environment Management
```bash
# Deactivate virtual environment
deactivate

# Remove virtual environment
rm -rf .venv  # Linux/Mac
rmdir /s .venv  # Windows

# Recreate virtual environment
python -m uv venv --clear
python -m uv sync
```

## Benefits of UV

1. **Speed**: Much faster than pip for dependency resolution
2. **Reliability**: Better dependency resolution and conflict handling
3. **Modern**: Uses `pyproject.toml` for project configuration
4. **Compatibility**: Works with existing pip-based workflows
5. **Lock Files**: Automatic lock file generation for reproducible builds

## Troubleshooting

### Common Issues

1. **Command not found**: Use `python -m uv` instead of just `uv`
2. **Permission errors**: Make sure you're in the virtual environment
3. **Build errors**: Check that `pyproject.toml` is properly configured

### Reset Environment
```bash
# If you encounter issues, reset the environment
deactivate
rm -rf .venv
python -m uv venv
python -m uv sync
```

## Migration from pip

If you're migrating from a pip-based workflow:

1. **Keep requirements.txt**: For compatibility with existing tools
2. **Use pyproject.toml**: For new dependency management
3. **Gradual migration**: You can use both systems during transition

## Next Steps

1. **Add more dependencies**: Use `python -m uv add` for new packages
2. **Development tools**: Add testing and linting tools with `--dev` flag
3. **CI/CD**: Use `uv sync` in your CI/CD pipelines
4. **Documentation**: Keep this guide updated as you add new tools
